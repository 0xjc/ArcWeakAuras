-- ArcWeakAuras Full 2.0.0 (https://github.com/0xjc/ArcWeakAuras)
do local a,b,c,d,e,f,g=aura_env,C_Timer.After,error,GetTime,max,random,WeakAuras;local h,i=g.ScanEvents,g.IsPaused;function a:InitArcTSU(j)if j=="basic"then self.TSU=function(k,l,m,...)local n=k[m]if n then n(k,...)l[""]=k;return k.changed end end elseif j=="multi"then self.TSU=function(k,l,m,...)local n=k[m]if n then k.allStates=l;return n(k,...)end end else c("invalid tsuMode")end end;function a:InitArcEvents()local o,p,q,r;o=self.region.arcEvents;if o then for s,t in pairs(o)do t[1]=nil end;self.region.arcEvents=nil end;q=g.GetData(self.id)for u,v in ipairs(q.triggers)do r=v.trigger;if r and r.type=="custom"and r.events and(r.check~="update"or r.custom_type=="event")then p=r.events:match("ARC_EVENT_%w+")if p then break end end end;self.arcEventUnderlying=assert(p,"missing ARC_EVENT_")self.arcEvents={}self.region.arcEvents=self.arcEvents;self[p]=function(k,w,s,...)if w==k.id then local n=k[s]if n then return n(k,...)else c("missing handler for arcEventId: "..tostring(s))end end end end;local x="missing InitArcEvents() call"function a:SetArcPeriodic(s,y,z)local p,A,w,t,B,C=self.arcEventUnderlying,self.arcEvents;if not A then c(x)end;z=z or min(0.05,0.05*y)w=self.id;t=A[s]or{0}A[s]=t;B=t[1]+1;t[1]=B;C=function()if t[1]==B then if not i()then h(p,w,s)end;b(y+(f()-0.5)*z,C)end end;b(y+(f()-0.5)*z,C)end;function a:SetArcTimer(s,D,E,F,G)local p,A,w,t,B=self.arcEventUnderlying,self.arcEvents;if not A then c(x)end;w=self.id;t=A[s]or{0,nil}A[s]=t;if t[2]~=D then B=t[1]+1;t[1]=B;t[2]=D;if D~=nil then b(e(0,D-d()+1e-6),function()if t[1]==B then t[2]=nil;if not i()then h(p,w,s,E,F,G)end end end)end end end;function a:GetArcTimer(s)local A,t=self.arcEvents;if not A then c(x)end;t=A[s]return t and t[2]end;function a:SetArcMultiTimer(s,D,E,F,G)local p,A,w,t,H=self.arcEventUnderlying,self.arcEvents;if not A then c(x)end;w=self.id;t=A[s]or{1,2}A[s]=t;H=t[2]+1;t[2]=H;t[H]=1;b(e(0,D-d()+1e-6),function()if t[1]and t[H]and not i()then h(p,w,s,E,F,G)end;t[H]=nil end)return H end;function a:CancelArcMultiTimer(s,H)local A=self.arcEvents;if not A then c(x)end;A[s][H]=nil end end
-- End of ArcWeakAuras Full
